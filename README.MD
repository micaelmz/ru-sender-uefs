# üì≤  Enviador Autom√°tico do Card√°pio do Restaurante Universit√°rio
Este √© um sistema desenvolvido em Python que facilita a entrega do card√°pio do RU para estudantes da UEFS. O sistema √© composto por tr√™s bots que trabalham juntos para fornecer o card√°pio atualizado para os usu√°rios. Os bots realizam tarefas como: gerenciar requisi√ß√µes enviadas ao WhatsApp; cadastrar novos usu√°rios; buscar, extrair, limpar e salvar no banco de dados o card√°pio semanal; enviar o card√°pio diariamente para os assinantes. O sistema utiliza tecnologias como a API do WhatsApp, Flask e Pandas para realizar as tarefas necess√°rias. Al√©m de possuir um sistema de notifica√ß√£o via e-mail que envia logs de cada procedimento ou erro para o desenvolvedor.

<br>


<div align="center">
<img src="https://github.com/micaelmz/micaelmz/blob/main/images/cruefs-project-bg.png"  width="100%"/>
</div>

<br>

### Vers√£o 1.1
```
üí° NEW! - Adicionado a solu√ß√£o para o caso onde o card√°pio n√£o foi atuaiizado no site da propaae.
```

#### Metas e features:
- [x] Funcionar com os mais diversos tipos de card√°pios, tamanho, cores.
- [ ] Notifica√ß√£o de erro por email para o administrador
- [ ] C√≥digo refatorado e refeito orientado a objetos (URGENTE)

<br>

# Modulos

## Scraping

Um bot de extra√ß√£o de dados, que realiza scraping no [site da propaae UEFS](http://propaae.uefs.br/modules/conteudo/conteudo.php?conteudo=15) todas as segundas-feiras em busca do link do PDF do card√°pio semanal, ent√£o faz download do mesmo nos arquivos do servidor, ap√≥s isso, as informa√ß√µes s√£o extra√≠das em formato DataFrame Pandas usando Tabula-py, ent√£o o DataFrame √© tratado para os dados serem armazenados em um servidor SQL do IBM DB2.

## WhatsApp Sender

Um bot de envio de mensagens que diariamente busca o card√°pio do dia, na tabela do card√°pio da semana, no servidor SQL da aplica√ß√£o. Em seguida, √© feita uma consulta √† tabela de usu√°rios, organizando uma mensagem para ser enviada para todos os usu√°rios, exceto em finais de semana, quando somente aqueles que marcaram essa op√ß√£o recebem a mensagem, o envio ent√£o √© realizando utilizando a API do WhatsApp.

## Marketing

Um bot que busca por novos usu√°rios cadastrados no banco de dados, ent√£o envia uma mensagem de boas vindas e divulga meu instagram, al√©m de definir tais usu√°rios como n√£o mais novo.

## Flask API

A Flask API lida com solitica√ß√µes por parte da API do WhatsApp, como mensagens recebidas, realizando tarefas como o cadastro de novos usu√°rios.

<br>

## Links √∫teis
[Testar o bot via WhatsApp](https://wa.me/13138008608?text=come√ßar)
